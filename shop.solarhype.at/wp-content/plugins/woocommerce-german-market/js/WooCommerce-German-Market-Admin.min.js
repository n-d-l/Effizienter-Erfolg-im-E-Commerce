jQuery(document).ready((function(e){woocommerce_de={init:function(){this.scale_unit_hint(),this.show_and_hide_panels(),e("input#_digital, input.variable_is_downloadable").change((function(){woocommerce_de.show_and_hide_panels()})),e(document).on("woocommerce_variations_loaded",(function(){e("#variable_product_options").on("change","input.variable_is_downloadable, input.variable_is_digital",(function(){var t=e(this).closest(".woocommerce_variable_attributes");woocommerce_de.show_and_hide_variable_requirements(t)}))})),this.video(),this.update_screen(),this.email_attachments(),this.email_attachments_allmails(),this.manual_order_confirmation_payments(),jQuery("#de_shop_emails_file_attachments_nr").change((function(){woocommerce_de.email_attachments()})),jQuery("#german_market_email_attachements_all_wc_emails").change((function(){woocommerce_de.email_attachments_allmails()})),jQuery("#woocommerce_de_manual_order_confirmation").change((function(){woocommerce_de.manual_order_confirmation_payments()})),jQuery("#woocommerce_de_manual_order_confirmation_payment_methods_only_pay_order").change((function(){woocommerce_de.manual_order_confirmation_payments_text()})),this.upload_attachments(),this.remove_attachments(),this.ui_tooltips(),this.wgm_ui_checkbox_reader(),this.variation_settings(),this.ppu_wc_weights(),this.sevdesk(),this.legal_texts(),this.doubleoptin_autodelete(),this.fic(),this.delivery_time_pdfs(),this.colorpick(),this.sort_checkout_cart_items(),this.handle_sepa_options(),this.handle_sepa_form_fields(),this.news(),e("#wcevc_general_tax_output_activation").on("change",(function(){woocommerce_de.wcev_general_tax_output_exceptions_for_emails()})),e("#wcevc_general_tax_output_activation").ready((function(){woocommerce_de.wcev_general_tax_output_exceptions_for_emails()})),e("#wcevc_import_cn_number_search_all_categories").on("change",(function(){e(this).is(":checked")?e("#wcevc_import_cn_number_categories").parent().parent().hide():e("#wcevc_import_cn_number_categories").parent().parent().show()})),jQuery("#woocommerce_de_lexoffice_contacts").length&&(jQuery("#woocommerce_de_lexoffice_contacts").ready((function(){woocommerce_de.german_market_lexoffice_contacts()})),jQuery("#woocommerce_de_lexoffice_contacts").change((function(){woocommerce_de.german_market_lexoffice_contacts()}))),jQuery("#gm_legal_information_product_reviews_information_text").length&&(jQuery("#gm_legal_information_product_reviews_information_text").ready((function(){woocommerce_de.product_reviews_information_text()})),jQuery("#gm_legal_information_product_reviews_information_text").change((function(){woocommerce_de.product_reviews_information_text()})),jQuery("#gm_legal_information_product_reviews_star_ratings").ready((function(){woocommerce_de.product_reviews_short_information_text()})),jQuery("#gm_legal_information_product_reviews_star_ratings").change((function(){woocommerce_de.product_reviews_short_information_text()}))),jQuery(".german-market-wc-ppp-notice button.notice-dismiss").ready((function(){jQuery(".german-market-wc-ppp-notice button.notice-dismiss").on("click",(function(){var e={action:"german_market_dismiss_wc_paypal_notice",nonce:ppp_dismiss_notices.nonce};jQuery.post(ppp_dismiss_notices.ajax_url,e,(function(e){}))}))}))},news:function(){e(".german-market-news-heading").click((function(){e(".german-market-news-inner").is(":visible")?(e(".german-market-news-heading .show").show(),e(".german-market-news-heading .hide").hide(),e(".german-market-news-inner").slideUp()):(e(".german-market-news-heading .show").hide(),e(".german-market-news-heading .hide").show(),e(".german-market-news-inner").slideDown());var t={action:"german_market_news",nonce:german_market_news.nonce};jQuery.post(german_market_news.ajax_url,t,(function(e){}))}))},product_reviews_information_text:function(){"custom"===jQuery("#gm_legal_information_product_reviews_information_text").val()?jQuery("#gm_legal_information_product_reviews_custom_text").parent().parent().show():jQuery("#gm_legal_information_product_reviews_custom_text").parent().parent().hide()},product_reviews_short_information_text:function(){"short_text"===jQuery("#gm_legal_information_product_reviews_star_ratings").val()?jQuery("#gm_legal_information_product_reviews_short_information_text").parent().parent().show():jQuery("#gm_legal_information_product_reviews_short_information_text").parent().parent().hide()},german_market_lexoffice_contacts:function(){"collective_contact"===jQuery("#woocommerce_de_lexoffice_contacts").val()?(jQuery("#woocommerce_de_lexoffice_create_new_user").parent().parent().hide(),jQuery("#woocommerce_de_lexoffice_user_update").parent().parent().hide(),jQuery("#woocommerce_de_lexoffice_guest_user").parent().parent().hide()):(jQuery("#woocommerce_de_lexoffice_create_new_user").parent().parent().show(),jQuery("#woocommerce_de_lexoffice_user_update").parent().parent().show(),jQuery("#woocommerce_de_lexoffice_guest_user").parent().parent().show())},wcev_general_tax_output_exceptions_for_emails:function(){"on"==e("#wcevc_general_tax_output_activation").val()?e("#wcevc_general_tax_output_exceptions_for_emails").parent().parent().show():e("#wcevc_general_tax_output_exceptions_for_emails").parent().parent().hide()},handle_sepa_options:function(){if(e("#woocommerce_german_market_sepa_direct_debit_checkout_customer_can_save_payment_information").length){let t=e("#woocommerce_german_market_sepa_direct_debit_checkout_customer_can_save_payment_information"),o=e("#woocommerce_german_market_sepa_direct_debit_my_account_customer_can_edit_payment_information"),a=e("#woocommerce_german_market_sepa_direct_debit_delete_stored_sepa_payment_information"),n="on"===german_market_sepa_options.check_for_stored_payment_information;e(a).closest("tr").hide(),e(t).length&&e(t).on("change",(function(){"on"==e(this).val()?(e(o).closest("tr").show(),e(a).closest("tr").hide()):(e(o).closest("tr").hide(),e(a).closest("tr").hide(),!0===n&&e(a).closest("tr").show())})).change()}},handle_sepa_form_fields:function(){let t=null,o="",a="on"===german_market_sepa_options.check_for_stored_payment_information;e("select#_payment_method").length&&e("select#customer_user").length&&(e("select#customer_user").on("change",(function(){o=e(this).val(),""!=o&&null!=o&&!0===a?e(".ajax_check_customer_payment_information").show():e(".ajax_check_customer_payment_information").hide(),t!=o&&(t=o),e(".ajax_check_customer_payment_information span").length&&e(".ajax_check_customer_payment_information span").remove()})),e("select#_payment_method").on("change",(function(){"german_market_sepa_direct_debit"==e(this).val()?(e("#edit_billing_address_container").show(),e("select#customer_user").change()):e("#edit_billing_address_container").hide()})),e("a.edit_address").click((function(t){e("select#_payment_method").change()}))),e(".ajax_check_customer_payment_information a").click((function(t){if(""!=o){let t=e(this).attr("data-link"),a=!1;e.ajax({url:t,type:"POST",dataType:"text",data:{user:o},error:function(){e(".ajax_check_customer_payment_information span").length,e(".ajax_check_customer_payment_information").append('<span class="error"></span>')},success:function(t){let o=JSON.parse(t);e.each(o,(function(t,o){""!=o&&(a=!0),a&&e("#"+t).length&&e("#"+t).val(o)})),e(".ajax_check_customer_payment_information span").length&&e(".ajax_check_customer_payment_information span").remove(),!0===a?e(".ajax_check_customer_payment_information").append('<span class="success"></span>'):e(".ajax_check_customer_payment_information").append('<span class="error"></span>')}})}}))},sort_checkout_cart_items:function(){e("select#gm_checkout_sort_products_by").length&&(e("select#gm_checkout_sort_products_by").on("change",(function(){"standard"==e(this).val()?e("select#gm_checkout_sort_products_ascdesc").closest("tr").hide():e("select#gm_checkout_sort_products_ascdesc").closest("tr").show()})),e("select#gm_checkout_sort_products_by").change()),e("select#gm_cart_sort_products_by").length&&(e("select#gm_cart_sort_products_by").on("change",(function(){"standard"==e(this).val()?e("select#gm_cart_sort_products_ascdesc").closest("tr").hide():e("select#gm_cart_sort_products_ascdesc").closest("tr").show()})),e("select#gm_cart_sort_products_by").change())},colorpick:function(){e(".german-market .colorpick").iris({change:function(t,o){e(this).parent().find(".colorpickpreview").css({backgroundColor:o.color.toString()})},hide:!0,border:!0}).on("click focus",(function(t){t.stopPropagation(),e(".iris-picker").hide(),e(this).closest("td").find(".iris-picker").show(),e(this).data("original-value",e(this).val())})).on("change",(function(){e(this).is(".iris-error")&&(e(this).data("original-value").match(/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/)?e(this).val(e(this).data("original-value")).change():e(this).val("").change())})),e("body .german-market").on("click",(function(){e(".iris-picker").hide()}))},delivery_time_pdfs:function(){jQuery("#woocommerce_de_show_delivery_time_order_summary").length&&(jQuery("#woocommerce_de_show_delivery_time_order_summary").ready((function(){woocommerce_de.delivery_time_pdfs_callback()})),jQuery("#woocommerce_de_show_delivery_time_order_summary").change((function(){woocommerce_de.delivery_time_pdfs_callback()})))},delivery_time_pdfs_callback:function(){jQuery("#woocommerce_de_show_delivery_time_order_summary").is(":checked")?(jQuery("#woocommerce_de_show_delivery_time_invoice_pdf").parent().parent().parent().parent().show(),jQuery("#woocommerce_de_show_delivery_time_retoure_pdf").parent().parent().parent().parent().show(),jQuery("#woocommerce_de_show_delivery_time_delivery_pdf").parent().parent().parent().parent().show()):(jQuery("#woocommerce_de_show_delivery_time_invoice_pdf").parent().parent().parent().parent().hide(),jQuery("#woocommerce_de_show_delivery_time_retoure_pdf").parent().parent().parent().parent().hide(),jQuery("#woocommerce_de_show_delivery_time_delivery_pdf").parent().parent().parent().parent().hide())},fic:function(){jQuery(".gm-fic-show-food-data").click((function(){jQuery(this).hide(),jQuery(this).parent().find(".gm-fic-hide-food-data").show(),jQuery(this).parent().parent().find(".gm-fic-data").show()})),jQuery(".gm-fic-hide-food-data").click((function(){jQuery(this).hide(),jQuery(this).parent().find(".gm-fic-show-food-data").show(),jQuery(this).parent().parent().find(".gm-fic-data").hide()})),jQuery(document).on("woocommerce_variations_loaded",(function(e){jQuery(".gm-fic-show-food-data-variation").click((function(){jQuery(this).hide(),jQuery(this).parent().find(".gm-fic-hide-food-data-variation").show(),jQuery(this).parent().parent().find(".gm-fic-data").show()})),jQuery(".gm-fic-hide-food-data-variation").click((function(){jQuery(this).hide(),jQuery(this).parent().find(".gm-fic-show-food-data-variation").show(),jQuery(this).parent().parent().find(".gm-fic-data").hide()}))}))},legal_texts:function(){jQuery(".german-market .copy-to-clipboard.html").click((function(){jQuery(this).parent().find(".copied-success").slideDown();var e=jQuery(this).parent().parent().find(".legal-text-contents-html").html().trim();if(navigator.clipboard&&window.isSecureContext){const t="text/plain",o=new Blob([e],{type:t}),a=[new ClipboardItem({[t]:o})];navigator.clipboard.write(a)}else{var t=jQuery("<textarea>");jQuery("body").append(t),t.val(e).select(),document.execCommand("copy"),t.remove()}jQuery(this).parent().find(".copied-success").delay(4e3).slideUp()}))},sevdesk:function(){jQuery(".sevdesk_select_booking_account").length&&jQuery(".sevdesk_select_booking_account").selectWoo()},doubleoptin_autodelete:function(){jQuery("#wgm_double_opt_in_customer_registration_management").length&&(jQuery("#wgm_double_opt_in_customer_registration_management").ready((function(){woocommerce_de.doubleoptin_management_callback()})),jQuery("#wgm_double_opt_in_customer_registration_management").change((function(){woocommerce_de.doubleoptin_management_callback()}))),jQuery("#wgm_double_opt_in_customer_registration_autodelete").length&&(jQuery("#wgm_double_opt_in_customer_registration_autodelete").ready((function(){woocommerce_de.doubleoptin_autodelete_callback()})),jQuery("#wgm_double_opt_in_customer_registration_autodelete").change((function(){woocommerce_de.doubleoptin_autodelete_callback()})))},doubleoptin_management_callback:function(){jQuery("#wgm_double_opt_in_customer_registration_management").is(":checked")?jQuery("#wgm_double_opt_in_customer_registration_autodelete").parent().parent().parent().parent().show():(jQuery("#wgm_double_opt_in_customer_registration_autodelete").parent().parent().parent().parent().hide(),jQuery("#wgm_double_opt_in_customer_registration_autodelete").prop("checked",!1),this.doubleoptin_autodelete_callback())},doubleoptin_autodelete_callback:function(){jQuery("#wgm_double_opt_in_customer_registration_autodelete").is(":checked")?(jQuery("#wgm_double_opt_in_customer_registration_autodelete_days").parent().parent().show(),jQuery("#wgm_double_opt_in_customer_registration_autodelete_extratext").parent().parent().show()):(jQuery("#wgm_double_opt_in_customer_registration_autodelete_days").parent().parent().hide(),jQuery("#wgm_double_opt_in_customer_registration_autodelete_extratext").parent().parent().hide())},ppu_wc_weights:function(){jQuery("#woocommerce_de_automatic_calculation_ppu").length&&(jQuery("#woocommerce_de_automatic_calculation_ppu").ready((function(){woocommerce_de.ppu_wc_weights_callback()})),jQuery("#woocommerce_de_automatic_calculation_ppu").change((function(){woocommerce_de.ppu_wc_weights_callback()})))},ppu_wc_weights_callback:function(){jQuery("#woocommerce_de_automatic_calculation_ppu").is(":checked")?(jQuery("#woocommerce_de_automatic_calculation_use_wc_weight").parent().parent().parent().parent().show(),jQuery("#woocommerce_de_automatic_calculation_use_wc_weight_mult").parent().parent().show(),jQuery("#woocommerce_de_automatic_calculation_use_wc_weight_scale_unit").parent().parent().show(),jQuery("#woocommerce_de_ppu_outpout_format_prefix").parent().parent().show()):(jQuery("#woocommerce_de_automatic_calculation_use_wc_weight").parent().parent().parent().parent().hide(),jQuery("#woocommerce_de_automatic_calculation_use_wc_weight_mult").parent().parent().hide(),jQuery("#woocommerce_de_automatic_calculation_use_wc_weight_scale_unit").parent().parent().hide(),jQuery("#woocommerce_de_ppu_outpout_format_prefix").parent().parent().hide())},wgm_ui_checkbox_reader:function(){var e=!1;jQuery(".gm-ui-checkbox.switcher-german-market").click((function(){jQuery(this).hasClass("clickable")&&(jQuery(this).parent().find(".gm-ui-checkbox.switcher-german-market").toggleClass("active"),jQuery(this).parent().find(".gm-ui-checkbox.switcher-german-market").toggleClass("clickable"),e=!0,jQuery(this).parent().parent().find(".slider").trigger("click"),e=!1)})),jQuery(".gm-slider").click((function(){e||(jQuery(this).parent().parent().find(".gm-ui-checkbox.switcher-german-market").toggleClass("active"),jQuery(this).parent().parent().find(".gm-ui-checkbox.switcher-german-market").toggleClass("clickable"))}))},variation_settings:function(){jQuery(document).on("woocommerce_variations_loaded",(function(e){jQuery(".variable_used_setting_ppu").change((function(){var e=jQuery(this).attr("data-loop");-1==jQuery(this).val()||"-1"==jQuery(this).val()?jQuery(".gm_ppu_auot_calc_parent_special_"+e).hide():jQuery(".gm_ppu_auot_calc_parent_special_"+e).show()})),jQuery("._variable_used_setting_shipping_info").change((function(){var e=jQuery(this).attr("data-loop");-1==jQuery(this).val()||"-1"==jQuery(this).val()?jQuery(".gm_shipping_info_special_"+e).hide():jQuery(".gm_shipping_info_special_"+e).show()})),jQuery("._v_used_setting_age_rating").change((function(){var e=jQuery(this).attr("data-loop");-1==jQuery(this).val()||"-1"==jQuery(this).val()?jQuery(".gm_age_rating_parent_special"+e).hide():jQuery(".gm_age_rating_parent_special"+e).show()}))}))},ui_tooltips:function(){e(".german-market-main-menu .tips, .german-market-main-menu .help_tip, .german-market-main-menu .woocommerce-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})},upload_attachments:function(){jQuery(".de_shop_emails_file_attachments_upload_button").click((function(){var e,t=jQuery(this).attr("id").replace("de_shop_emails_file_attachments_upload_button_","de_shop_emails_file_attachment_");e||(e=wp.media({multiple:!1})).on("select",(function(){var o=e.state().get("selection").first().toJSON();jQuery("#"+t).val(o.url)})),e.open()}))},remove_attachments:function(){jQuery(".de_shop_emails_file_attachments_remove_button").click((function(){var e=jQuery(this).attr("id").replace("de_shop_emails_file_attachments_remove_button_","de_shop_emails_file_attachment_");jQuery("#"+e).val("")}))},email_attachments_allmails:function(){if(jQuery("#german_market_email_attachements_all_wc_emails").length){jQuery("#german_market_email_attachements_all_wc_emails").is(":checked")?jQuery("#german_market_email_attachements_emails").parent().parent().hide():jQuery("#german_market_email_attachements_emails").parent().parent().show()}},manual_order_confirmation_payments:function(){if(jQuery("#woocommerce_de_manual_order_confirmation").length){jQuery("#woocommerce_de_manual_order_confirmation").is(":checked")?jQuery("#woocommerce_de_manual_order_confirmation_payment_methods_only_pay_order").parent().parent().parent().parent().show():jQuery("#woocommerce_de_manual_order_confirmation_payment_methods_only_pay_order").parent().parent().parent().parent().hide(),this.manual_order_confirmation_payments_text()}},manual_order_confirmation_payments_text:function(){if(jQuery("#woocommerce_de_manual_order_confirmation").length){let e=jQuery("#woocommerce_de_manual_order_confirmation_payment_methods_only_pay_order").is(":checked"),t=jQuery("#woocommerce_de_manual_order_confirmation").is(":checked");e&&t?jQuery("#woocommerce_de_manual_order_confirmation_payment_methods_hint_text").parent().parent().show():jQuery("#woocommerce_de_manual_order_confirmation_payment_methods_hint_text").parent().parent().hide()}},email_attachments:function(){if(jQuery("#de_shop_emails_file_attachments_nr").length){var e=jQuery("#de_shop_emails_file_attachments_nr").val();jQuery(".de_shop_emails_file_attachment").each((function(){jQuery(this).parents("tr").hide()}));for(var t=1;t<=e;t++){jQuery("#de_shop_emails_file_attachment_"+t).parents("tr").show()}}},show_and_hide_variable_requirements:function(t){var o=e(t).find(".variable_is_digital"),a=e(t).find(".variable_is_downloadable"),n=e(o).prop("checked"),_=e(a).prop("checked");n||_?e(t).find(".show_if_variation_downloadable_or_digital").show():e(t).find(".show_if_variation_downloadable_or_digital").hide()},show_and_hide_panels:function(){var t=e("input#_digital:checked").length,o=e("input.variable_is_downloadable:checked").length;e(".show_if_digital").hide(),e(".show_if_variation_is_downloadable").hide(),t&&e(".show_if_digital").show(),o&&e(".show_if_variation_is_downloadable").show(),e("input#_manage_stock").change()},scale_unit_hint:function(){e("#woocommerce_attributes .toolbar").length>1&&e("#woocommerce_attributes .toolbar").last().append(woocommerce_product_attributes_msg.msg)},update_screen:function(){e("#update-plugins-table").ready((function(){e(this).find("strong").each((function(){if("German Market"==e(this).html())return e(this).next("a").hide(),!1}))}))},video:function(){e(".wgm-video-wrapper a.open").click((function(){var t=e(this).parent().find("span").html(),o=e(this).parent().find(".videoouter"),a=e(this).parent().find(".video"),n=e(this).parent().find(".close");""==e(a).html()&&e("<video />",{id:"video"+t,src:t,type:"video/mp4",controls:!0,autoplay:!0}).appendTo(e(a));e(o).show(),e(this).hide(),e(n).show(),e(this).parent().addClass("wgm-video-isShown"),e(a).show()})),e(".wgm-video-wrapper a.close").click((function(){var t=e(this).parent().parent().parent().find(".open"),o=e(this).parent().find(".video"),a=e(this).parent().parent().parent().find(".videoouter");e(a).hide(),e(this).hide(),e(t).show(),e(this).parent().removeClass("wgm-video-isShown"),e(this).parent().find("video").get(0).pause(),e(o).hide()})),e(".videoouter").click((function(){var t=e(event.target);if(e(t).hasClass("videoouter")){var o=e(this).parent().parent().parent().find(".open"),a=e(this).parent().find(".video"),n=e(this).parent().parent().parent().find(".videoouter");e(n).hide(),e(this).hide(),e(o).show(),e(this).parent().removeClass("wgm-video-isShown"),e(this).parent().find("video").get(0).pause(),e(a).hide()}})),e(".german-market-left-menu .mobile-menu-outer").click((function(){e(".german-market-left-menu ul,.mobile-icon").toggleClass("open")})),e(".add-on-switcher").click((function(){e(this).toggleClass("on","off")}))}},woocommerce_de.init()}));